"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.withLocale=exports.useLocale=exports.LocaleProvider=void 0;var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_reactLocalization=require("react-localization"),_reactLocalization2=_interopRequireDefault(_reactLocalization);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var LocaleContext=(0,_react.createContext)({i18n:null,languageCode:"",changeLanguage:function a(){},allLanguages:[]}),LocaleProvider=exports.LocaleProvider=function(a){var b=a.resources,c=a.defaultLanguage,d=a.children,e=(0,_react.useMemo)(function(){return new _reactLocalization2.default(b)},[b]),f=(0,_react.useMemo)(function(){return Object.keys(b)},[b]),g=(0,_react.useState)(c||f[0]),h=_slicedToArray(g,2),i=h[0],j=h[1],k=(0,_react.useCallback)(function(a){j(a),e.setLanguage(a)},[e]);return _react2.default.createElement(LocaleContext.Provider,{value:{i18n:e,languageCode:i,changeLanguage:k,allLanguages:f}},d)},useLocale=exports.useLocale=function(){return(0,_react.useContext)(LocaleContext)},getComponentName=function(a){return"production"!==process.env.NODE_ENV&&"string"==typeof a&&a||a.displayName||a.name||"Component"},withLocale=exports.withLocale=function(a){var b=_react2.default.forwardRef(function(b,c){return _react2.default.createElement(LocaleContext.Consumer,null,function(d){return _react2.default.createElement(a,_extends({},d,b,{ref:c}))})});return b.displayName="LocaleContext."+getComponentName(a),b};